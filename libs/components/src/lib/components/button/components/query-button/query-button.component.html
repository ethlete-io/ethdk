<ng-container *etLet="queryButton.showSuccess$ | async as showSuccess">
  <ng-container *etLet="queryButton.showFailure$ | async as showFailure">
    <span *query="queryButton.query$ | async; loading as loading" class="et-button-content et-query-button-content">
      <span
        [attr.aria-hidden]="loading || showSuccess || showFailure ? 'true' : undefined"
        class="et-button-text et-query-button-text et-query-button-text--default"
      >
        <ng-content></ng-content>
      </span>

      <span *ngIf="loading" class="et-query-button-loading"> </span>
      <span *ngIf="loading" class="et-button-text et-query-button-text et-query-button-text--loading">Loading</span>

      <span *ngIf="showSuccess" class="et-button-text et-query-button-text et-query-button-text--success">Success</span>
      <span *ngIf="showFailure" class="et-button-text et-query-button-text et-query-button-text--failure">Failure</span>
    </span>
  </ng-container>
</ng-container>
