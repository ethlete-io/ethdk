<div *etLet="_isOpen$ | async as isOpen" class="et-accordion-container">
  <h3 class="et-accordion-header-wrapper">
    <button
      [disabled]="disabled"
      [id]="headerId"
      [attr.aria-controls]="bodyId"
      [attr.aria-expanded]="isOpen"
      [class.et-accordion-has-hint]="!!templateHint"
      (click)="toggleAccordionOpen()"
      class="et-accordion-header"
      type="button"
    >
      <div>
        <ng-template [ngIf]="templateLabel" [ngIfElse]="textLabelTpl">
          <ng-template [cdkPortalOutlet]="templateLabel" />
        </ng-template>

        <ng-template #textLabelTpl
          ><span et-accordion-label>{{ label }} </span>
        </ng-template>
      </div>

      <ng-container *ngIf="templateHint">
        <ng-template [cdkPortalOutlet]="templateHint" />
      </ng-container>

      <et-chevron-icon />
    </button>
  </h3>
  <div
    [@animateOpenClose]="(_isOpen$ | async) ? 'open' : 'close'"
    [attr.aria-labelledby]="headerId"
    [id]="bodyId"
    class="et-accordion-body"
    role="region"
  >
    <div class="et-accordion-body-container">
      <ng-content />
    </div>
  </div>
  <hr class="et-accordion-separator" />
</div>
