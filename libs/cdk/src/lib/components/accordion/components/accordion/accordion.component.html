@let isOpen = _isOpen$ | async;

<div class="et-accordion-container">
  <h3 class="et-accordion-header-wrapper">
    <button
      [disabled]="disabled"
      [id]="headerId"
      [attr.aria-controls]="bodyId"
      [attr.aria-expanded]="isOpen"
      [class.et-accordion-has-hint]="!!templateHint"
      (click)="toggleAccordionOpen()"
      class="et-accordion-header"
      type="button"
    >
      <div>
        @if (templateLabel) {
          <ng-template [cdkPortalOutlet]="templateLabel" />
        } @else {
          <span et-accordion-label>{{ label }} </span>
        }
      </div>

      @if (templateHint) {
        <ng-template [cdkPortalOutlet]="templateHint" />
      }

      <et-chevron-icon />
    </button>
  </h3>
  <div
    [@animateOpenClose]="isOpen ? 'open' : 'close'"
    [attr.aria-labelledby]="headerId"
    [id]="bodyId"
    class="et-accordion-body"
    role="region"
  >
    <div class="et-accordion-body-container">
      <ng-content />
    </div>
  </div>
  <hr class="et-accordion-separator" />
</div>
