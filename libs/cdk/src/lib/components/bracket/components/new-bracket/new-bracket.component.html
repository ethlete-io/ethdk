<section
  [style.--_cw.px]="columnWidth()"
  [style.--_mh.px]="matchHeight()"
  [style.--_rhh.px]="hideRoundHeaders() ? matchHeight() : roundHeaderHeight()"
  [style.--_cg.px]="columnGap()"
  [style.--_ulg.px]="upperLowerGap()"
  [style.--_rg.px]="rowGap()"
  [style.--_bcc]="definitions().columnCount"
  [style.--_brc]="definitions().rowCount"
  class="et-bracket-new"
>
  <svg [innerHTML]="svgContent()" class="et-bracket-new-svg" xmlns="http://www.w3.org/2000/svg" />

  @for (round of items().values(); track round.layoutId) {
    <ul
      [style.--_c]="round.columnStart + ' / ' + round.columnEnd"
      [style.--_r]="round.rowStart + ' / ' + round.rowEnd"
      [style.--_cd]="round.columnDefinitions"
      [style.--_rd]="round.rowDefinitions"
      class="et-bracket-new-round"
    >
      @for (item of round.items.values(); track item.layoutId) {
        <li [style.--_r]="item.rowStart + ' / ' + item.rowEnd" [class]="item.className">
          <ng-container *ngComponentOutlet="item.component; inputs: item.data" />

          @if (debug() && item.type === 'match') {
            @let debugData = drawManData().debugMap[item.id];

            @if (debugData) {
              <et-new-bracket-debug [drawManDebugData]="debugData" />
            }
          }
          <div></div>
        </li>
      }
    </ul>
  }
</section>
